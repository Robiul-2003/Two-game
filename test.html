<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Jump Game</title>

<style>
body{
    background-color: rgb(77, 70, 70);
}

.big{
    width:90%;
    height:300px;
    border:2px solid white;
    display: flex;
    margin: auto;
    position: relative;
    overflow: hidden;
}

.box2{
    width:30px;
    height:30px;
    background-color: red;
    bottom:0;
    position: absolute;
    animation:move 3s linear infinite;
}

@keyframes move{
    0%{ right:-30px; }
    100%{ right:100%; }
}

#box1{
    position:absolute;
    bottom:0;
    left:50px;
    width: 50px;
    height:50px;
    background-color: black;
}

/* Jump Animation */
.jump{
    animation: jump 0.5s ease;
}

@keyframes jump{
    0%{ bottom:0; }
    50%{ bottom:120px; }
    100%{ bottom:0; }
}

/* Game Over Text */
#gameOver{
    position:absolute;
    top:40%;
    left:40%;
    color:white;
    font-size:30px;
    display:none;
}
</style>
</head>

<body>

<div class="big">
    <div id="box1"></div>
    <div class="box2" id="enemy"></div>
    <h1 id="gameOver">GAME OVER</h1>
</div>

<script>
let box = document.getElementById("box1");
let enemy = document.getElementById("enemy");
let gameOverText = document.getElementById("gameOver");

function jump(){
  if(!box.classList.contains("jump")){
     box.classList.add("jump");

     setTimeout(()=>{
        box.classList.remove("jump");
     },500);
  }
}

document.addEventListener("keydown", function(e){
    if(e.code === "Space" || e.code === "ArrowUp"){
        jump();
    }
});

/* Collision Check */
let checkDead = setInterval(function(){

    let boxRect = box.getBoundingClientRect();
    let enemyRect = enemy.getBoundingClientRect();

    if(
        boxRect.right > enemyRect.left &&
        boxRect.left < enemyRect.right &&
        boxRect.bottom > enemyRect.top &&
        boxRect.top < enemyRect.bottom
    ){
        enemy.style.animation = "none";
        enemy.style.display = "none";
        gameOverText.style.display = "block";
        clearInterval(checkDead);
    }

},10);
</script>

</body>
</html>
